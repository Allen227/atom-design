"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./style.css");var _default={name:"atom-slide-item",data:function(){return{startX:0,moveX:0,preMoveX:0,tempMoveX:0,innerValue:null}},props:{value:{type:Boolean,default:!1}},watch:{value:function(t){var e=this;if(t){this.innerValue=t;var i=this.$el.children.item(0);i.style["transition-duration"]="100ms",i.style.transform="translate3d(0, 0, 0)",i.addEventListener("transitionend",function(){e.innerValue=!1,e.preMoveX=0,i.style["transition-duration"]="0ms"},{capture:!1,once:!0})}},innerValue:function(t){this.$emit("input",t)}},mounted:function(){var t=this.$el.children.item(0);Array.prototype.forEach.call(t.children,function(t,e){t.style["flex-shrink"]=0}),void 0!==this.$slots.leftAction?(t.style["margin-left"]="".concat(-1*t.children.item(0).offsetWidth,"px"),t.children.item(1).style.width="100%"):t.children.item(0).style.width="100%"},render:function(t){var r=this;return t("div",{staticClass:"atom-slide"},[t("div",{staticClass:"slide-content",on:{touchstart:function(){r.startX=event.targetTouches[0].pageX},touchmove:function(){event.preventDefault();var t=event.currentTarget,e=t.children.item(0),i=t.children.item(t.children.length-1);r.moveX=event.changedTouches[0].pageX-r.startX,r.tempMoveX=r.moveX+r.preMoveX,r.tempMoveX<0&&Math.abs(r.tempMoveX)>=i.offsetWidth||0<r.tempMoveX&&Math.abs(r.tempMoveX)>=e.offsetWidth||void 0===r.$slots.leftAction&&0<r.tempMoveX||void 0===r.$slots.rightAction&&r.tempMoveX<0||(t.style.transform="translate3d(".concat(r.tempMoveX,"px, 0, 0)"))},touchend:function(){if(r.tempMoveX){var t=event.currentTarget,e=t.children.item(0),i=t.children.item(t.children.length-1),n=0,o=e.offsetWidth,s=i.offsetWidth;void 0!==r.$slots.rightAction&&r.tempMoveX<0?(r.moveX<0&&Math.abs(r.tempMoveX)>i.children.item(0).offsetWidth/2&&(n=-1*i.offsetWidth),0<r.moveX&&Math.abs(r.tempMoveX)<s-i.children.item(i.children.length-1).offsetWidth/2&&(n=0)):void 0!==r.$slots.leftAction&&0<r.tempMoveX&&(r.moveX<0&&Math.abs(r.tempMoveX)>o-e.children.item(0).offsetWidth/2&&(n=0),0<r.moveX&&Math.abs(r.tempMoveX)>e.children.item(e.children.length-1).offsetWidth/2&&(n=e.offsetWidth)),t.style["transition-duration"]="100ms",t.style.transform="translate3d(".concat(n,"px, 0, 0)"),t.addEventListener("transitionend",function(){r.preMoveX=n,event.currentTarget.style["transition-duration"]="0ms"},{capture:!1,once:!0})}}}},[this.$slots.leftAction,this.$slots.default,this.$slots.rightAction])])}};exports.default=_default;