"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./style.css");var _popup=_interopRequireDefault(require("../common/mixin/popup")),_button=_interopRequireDefault(require("../button")),_transition=require("../common/transition"),_pickerColumn=_interopRequireDefault(require("./pickerColumn.js")),_isObject=_interopRequireDefault(require("../common/util/isObject")),_objAssign=_interopRequireDefault(require("../common/util/objAssign"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _default={name:"atom-picker",data:function(){return{pickerArr:[],selectArr:[]}},mixins:[_popup.default],components:{atomBtn:_button.default,pickerColumn:_pickerColumn.default},methods:{initAnimPosition:function(t){for(var e=this.$el.children.item(0).children.item(1).children.item(0),i=e.children.length,n=t;n<i;n++)this.$refs["colPicker".concat(n)].initData(),e.children.item(n).children.item(0).style.transform="translate3d(0, 0, 0)"},handleChildren:function(t,e){var i=this,n=this.$createElement("picker-column",{attrs:{colList:e},ref:"colPicker".concat(t+1),on:{selValue:function(t){i.selectArr[n.depth]=t.text,t.childrens?(i.initAnimPosition(n.depth+1),i.handleChildren(n.depth,t.childrens)):(i.pickerArr.splice(n.depth+1),i.selectArr.splice(n.depth+1))}}});void 0===n.depth&&(n.depth=++t,this.selectArr[n.depth]=e[0].text),this.pickerArr.splice(n.depth),this.pickerArr.push(n),e[0]&&e[0].childrens&&this.handleChildren(t,e[0].childrens)},handleData:function(){var e=this,t=this.$createElement("picker-column",{attrs:{colList:this._pickerList},ref:"colPicker0",on:{selValue:function(t){e.selectArr[0]=t.text,t.childrens?(e.initAnimPosition(1),e.handleChildren(0,t.childrens)):(e.pickerArr.splice(1),e.selectArr.splice(1))}}});t.depth=0,this.selectArr[0]=this._pickerList[0].text,this.pickerArr.push(t),this._pickerList[0]&&this._pickerList[0].childrens&&this.handleChildren(0,this._pickerList[0].childrens)}},mounted:function(){var t=this;setTimeout(function(){t.handleData()})},render:function(t){var e=this,i={"max-height":"39px","font-size":"16px"},n={"max-height":"39px","font-size":"16px",color:"#108ee9"};return t("div",{staticClass:"atom-picker",on:{click:function(){e.isShow=!1}}},[t(_transition.slideTopTransition,{},[t("div",{staticClass:"picker-wrapper",directives:[{name:"show",value:this.isShow}],on:{click:function(){event.stopPropagation()}}},[t("div",{staticClass:"picker-header"},[t("atom-btn",{attrs:{actionStyle:this._cancelBtn&&this._cancelBtn.actionStyle},style:this._cancelBtn&&(0,_isObject.default)(this._cancelBtn.style)?(0,_objAssign.default)(i,this._cancelBtn.style):i,nativeOn:{click:function(){e.isShow=!1,e._cancelBtn&&e._cancelBtn.event&&e._cancelBtn.event(e.selectArr)}}},this._cancelBtn&&this._cancelBtn.text?this._cancelBtn.text:"Cancel"),t("atom-btn",{attrs:{actionStyle:this._submitBtn&&this._submitBtn.actionStyle},style:this._submitBtn&&(0,_isObject.default)(this._submitBtn.style)?(0,_objAssign.default)(n,this._submitBtn.style):n,nativeOn:{click:function(){e.isShow=!1,e._submitBtn&&e._submitBtn.event&&e._submitBtn.event(e.selectArr)}}},this._submitBtn&&this._submitBtn.text?this._submitBtn.text:"Submit")]),t("div",{staticClass:"picker-content"},[t("div",{staticClass:"picker-col-content"},this.pickerArr),t("div",{staticClass:"picker-indicator"}),t("div",{staticClass:"picker-mask"})])])])])}};exports.default=_default;